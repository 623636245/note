<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IRB 互动环境 | 一肩月光 · 笔记</title>
    <meta name="description" content="Live and learn.">
    <link rel="icon" href="https://www.wenboz.com/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.01e5cb2d.css" as="style"><link rel="preload" href="/assets/js/app.b7f7816d.js" as="script"><link rel="preload" href="/assets/js/2.8d5777ed.js" as="script"><link rel="preload" href="/assets/js/147.b4e493ab.js" as="script"><link rel="prefetch" href="/assets/js/10.408ce809.js"><link rel="prefetch" href="/assets/js/100.529b590e.js"><link rel="prefetch" href="/assets/js/101.3c6a93e4.js"><link rel="prefetch" href="/assets/js/102.76ecc118.js"><link rel="prefetch" href="/assets/js/103.b17094c2.js"><link rel="prefetch" href="/assets/js/104.4ceb59dd.js"><link rel="prefetch" href="/assets/js/105.f815dc0a.js"><link rel="prefetch" href="/assets/js/106.d5419683.js"><link rel="prefetch" href="/assets/js/107.c2c441d2.js"><link rel="prefetch" href="/assets/js/108.88e092d8.js"><link rel="prefetch" href="/assets/js/109.55181e55.js"><link rel="prefetch" href="/assets/js/11.bcbf5a7b.js"><link rel="prefetch" href="/assets/js/110.6fde77a5.js"><link rel="prefetch" href="/assets/js/111.fdd38012.js"><link rel="prefetch" href="/assets/js/112.7187622b.js"><link rel="prefetch" href="/assets/js/113.45669454.js"><link rel="prefetch" href="/assets/js/114.af72fbd5.js"><link rel="prefetch" href="/assets/js/115.0c985df7.js"><link rel="prefetch" href="/assets/js/116.84ec4f45.js"><link rel="prefetch" href="/assets/js/117.88c0b09f.js"><link rel="prefetch" href="/assets/js/118.2a4534c4.js"><link rel="prefetch" href="/assets/js/119.da8f2dc6.js"><link rel="prefetch" href="/assets/js/12.054dd0d2.js"><link rel="prefetch" href="/assets/js/120.cea00e60.js"><link rel="prefetch" href="/assets/js/121.9c1aca65.js"><link rel="prefetch" href="/assets/js/122.cee3d87b.js"><link rel="prefetch" href="/assets/js/123.5f9ee67b.js"><link rel="prefetch" href="/assets/js/124.cca13a45.js"><link rel="prefetch" href="/assets/js/125.f2ae9804.js"><link rel="prefetch" href="/assets/js/126.96716600.js"><link rel="prefetch" href="/assets/js/127.8cd6d5b0.js"><link rel="prefetch" href="/assets/js/128.3b9047cb.js"><link rel="prefetch" href="/assets/js/129.d4e5a5db.js"><link rel="prefetch" href="/assets/js/13.7e2eb37c.js"><link rel="prefetch" href="/assets/js/130.015f4f59.js"><link rel="prefetch" href="/assets/js/131.9712ac85.js"><link rel="prefetch" href="/assets/js/132.028a1e8e.js"><link rel="prefetch" href="/assets/js/133.164c29d2.js"><link rel="prefetch" href="/assets/js/134.97bc7dad.js"><link rel="prefetch" href="/assets/js/135.34aeb1bc.js"><link rel="prefetch" href="/assets/js/136.bd4aa568.js"><link rel="prefetch" href="/assets/js/137.7d5a150d.js"><link rel="prefetch" href="/assets/js/138.ab24f019.js"><link rel="prefetch" href="/assets/js/139.0b6cff1b.js"><link rel="prefetch" href="/assets/js/14.83c1a8df.js"><link rel="prefetch" href="/assets/js/140.dde841bb.js"><link rel="prefetch" href="/assets/js/141.a0fcc5a4.js"><link rel="prefetch" href="/assets/js/142.a27f24f5.js"><link rel="prefetch" href="/assets/js/143.3bf9eaf6.js"><link rel="prefetch" href="/assets/js/144.b2771acc.js"><link rel="prefetch" href="/assets/js/145.636825dd.js"><link rel="prefetch" href="/assets/js/146.ce9bb1b4.js"><link rel="prefetch" href="/assets/js/148.ca445e70.js"><link rel="prefetch" href="/assets/js/149.66095650.js"><link rel="prefetch" href="/assets/js/15.1e398914.js"><link rel="prefetch" href="/assets/js/150.e915ef29.js"><link rel="prefetch" href="/assets/js/151.984c2cd7.js"><link rel="prefetch" href="/assets/js/152.86df1053.js"><link rel="prefetch" href="/assets/js/153.eff91ad1.js"><link rel="prefetch" href="/assets/js/154.7120021e.js"><link rel="prefetch" href="/assets/js/155.5fb459cc.js"><link rel="prefetch" href="/assets/js/156.ebddea25.js"><link rel="prefetch" href="/assets/js/157.6d4c6ffe.js"><link rel="prefetch" href="/assets/js/158.435d6fd8.js"><link rel="prefetch" href="/assets/js/159.192db3fa.js"><link rel="prefetch" href="/assets/js/16.50483b77.js"><link rel="prefetch" href="/assets/js/160.4b147a62.js"><link rel="prefetch" href="/assets/js/161.e00e5ed6.js"><link rel="prefetch" href="/assets/js/162.d9ba8fd9.js"><link rel="prefetch" href="/assets/js/163.a346ba40.js"><link rel="prefetch" href="/assets/js/164.302a3536.js"><link rel="prefetch" href="/assets/js/165.85317d80.js"><link rel="prefetch" href="/assets/js/166.a7883c60.js"><link rel="prefetch" href="/assets/js/167.96ddcc64.js"><link rel="prefetch" href="/assets/js/168.181be587.js"><link rel="prefetch" href="/assets/js/169.86d2a938.js"><link rel="prefetch" href="/assets/js/17.bd2c4966.js"><link rel="prefetch" href="/assets/js/170.7045a59a.js"><link rel="prefetch" href="/assets/js/171.e9a10116.js"><link rel="prefetch" href="/assets/js/172.2f513c97.js"><link rel="prefetch" href="/assets/js/173.6f0a072f.js"><link rel="prefetch" href="/assets/js/174.1d2c14c9.js"><link rel="prefetch" href="/assets/js/175.ef8fa048.js"><link rel="prefetch" href="/assets/js/176.9141b511.js"><link rel="prefetch" href="/assets/js/177.c902e6c0.js"><link rel="prefetch" href="/assets/js/178.bed15475.js"><link rel="prefetch" href="/assets/js/179.105f2184.js"><link rel="prefetch" href="/assets/js/18.5bbeba87.js"><link rel="prefetch" href="/assets/js/19.6f97430a.js"><link rel="prefetch" href="/assets/js/20.150241c9.js"><link rel="prefetch" href="/assets/js/21.1a653ed0.js"><link rel="prefetch" href="/assets/js/22.182bf0e4.js"><link rel="prefetch" href="/assets/js/23.76c78e9f.js"><link rel="prefetch" href="/assets/js/24.2ebe55ba.js"><link rel="prefetch" href="/assets/js/25.64dde26b.js"><link rel="prefetch" href="/assets/js/26.a423ff40.js"><link rel="prefetch" href="/assets/js/27.ba8b2c9b.js"><link rel="prefetch" href="/assets/js/28.d9cceb88.js"><link rel="prefetch" href="/assets/js/29.182d7f59.js"><link rel="prefetch" href="/assets/js/3.9bcdd156.js"><link rel="prefetch" href="/assets/js/30.d225a502.js"><link rel="prefetch" href="/assets/js/31.3dc6af13.js"><link rel="prefetch" href="/assets/js/32.d82fb465.js"><link rel="prefetch" href="/assets/js/33.ba3083e4.js"><link rel="prefetch" href="/assets/js/34.511efb80.js"><link rel="prefetch" href="/assets/js/35.cfb0db47.js"><link rel="prefetch" href="/assets/js/36.df137a95.js"><link rel="prefetch" href="/assets/js/37.9f5a2be9.js"><link rel="prefetch" href="/assets/js/38.eaebde36.js"><link rel="prefetch" href="/assets/js/39.c1b2c3d3.js"><link rel="prefetch" href="/assets/js/4.30e2a016.js"><link rel="prefetch" href="/assets/js/40.dd8f6fb8.js"><link rel="prefetch" href="/assets/js/41.ba9e42d4.js"><link rel="prefetch" href="/assets/js/42.b9e17f3e.js"><link rel="prefetch" href="/assets/js/43.616e527a.js"><link rel="prefetch" href="/assets/js/44.d790996b.js"><link rel="prefetch" href="/assets/js/45.f6b026ac.js"><link rel="prefetch" href="/assets/js/46.0478cc0b.js"><link rel="prefetch" href="/assets/js/47.0a7cc955.js"><link rel="prefetch" href="/assets/js/48.50baa522.js"><link rel="prefetch" href="/assets/js/49.534405b6.js"><link rel="prefetch" href="/assets/js/5.48eba63d.js"><link rel="prefetch" href="/assets/js/50.0c6cdbb1.js"><link rel="prefetch" href="/assets/js/51.637f38ef.js"><link rel="prefetch" href="/assets/js/52.136fb943.js"><link rel="prefetch" href="/assets/js/53.8b9438e2.js"><link rel="prefetch" href="/assets/js/54.ff473d91.js"><link rel="prefetch" href="/assets/js/55.b7e3e604.js"><link rel="prefetch" href="/assets/js/56.52fdf969.js"><link rel="prefetch" href="/assets/js/57.b485a163.js"><link rel="prefetch" href="/assets/js/58.6f8319bb.js"><link rel="prefetch" href="/assets/js/59.73d18937.js"><link rel="prefetch" href="/assets/js/6.664bd5d6.js"><link rel="prefetch" href="/assets/js/60.ac676a99.js"><link rel="prefetch" href="/assets/js/61.b5537604.js"><link rel="prefetch" href="/assets/js/62.2ecd2ce6.js"><link rel="prefetch" href="/assets/js/63.babce756.js"><link rel="prefetch" href="/assets/js/64.41781fbe.js"><link rel="prefetch" href="/assets/js/65.a364c6e4.js"><link rel="prefetch" href="/assets/js/66.049e542e.js"><link rel="prefetch" href="/assets/js/67.7bdea151.js"><link rel="prefetch" href="/assets/js/68.c2e7a551.js"><link rel="prefetch" href="/assets/js/69.f483b55c.js"><link rel="prefetch" href="/assets/js/7.9a8a9f8c.js"><link rel="prefetch" href="/assets/js/70.936ae03a.js"><link rel="prefetch" href="/assets/js/71.aef09676.js"><link rel="prefetch" href="/assets/js/72.8ab3b97c.js"><link rel="prefetch" href="/assets/js/73.175632d6.js"><link rel="prefetch" href="/assets/js/74.d33c8a8c.js"><link rel="prefetch" href="/assets/js/75.50ad6da4.js"><link rel="prefetch" href="/assets/js/76.d9686a2b.js"><link rel="prefetch" href="/assets/js/77.23e2d853.js"><link rel="prefetch" href="/assets/js/78.1e6df405.js"><link rel="prefetch" href="/assets/js/79.2b266250.js"><link rel="prefetch" href="/assets/js/8.e01544e3.js"><link rel="prefetch" href="/assets/js/80.d00ed6c9.js"><link rel="prefetch" href="/assets/js/81.9130e02c.js"><link rel="prefetch" href="/assets/js/82.721ea3c5.js"><link rel="prefetch" href="/assets/js/83.57263932.js"><link rel="prefetch" href="/assets/js/84.cd5be022.js"><link rel="prefetch" href="/assets/js/85.f6248110.js"><link rel="prefetch" href="/assets/js/86.ea82cbdc.js"><link rel="prefetch" href="/assets/js/87.891e13e8.js"><link rel="prefetch" href="/assets/js/88.148250b0.js"><link rel="prefetch" href="/assets/js/89.533ad5fa.js"><link rel="prefetch" href="/assets/js/9.ddc7ea03.js"><link rel="prefetch" href="/assets/js/90.3030d7a5.js"><link rel="prefetch" href="/assets/js/91.35cad124.js"><link rel="prefetch" href="/assets/js/92.9dd68c32.js"><link rel="prefetch" href="/assets/js/93.c7ad22f9.js"><link rel="prefetch" href="/assets/js/94.f2a54fdc.js"><link rel="prefetch" href="/assets/js/95.6e9cd74a.js"><link rel="prefetch" href="/assets/js/96.5ea55e5b.js"><link rel="prefetch" href="/assets/js/97.276f9f5a.js"><link rel="prefetch" href="/assets/js/98.464bd6c9.js"><link rel="prefetch" href="/assets/js/99.86e6dbb8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.01e5cb2d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">一肩月光 · 笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/rails/" class="nav-link router-link-active">Rails</a></div><div class="nav-item"><a href="https://www.wenboz.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/boboidream/note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/rails/" class="nav-link router-link-active">Rails</a></div><div class="nav-item"><a href="https://www.wenboz.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/boboidream/note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>知识储备</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chu.html" class="sidebar-link">Ruby 基础知识</a></li><li><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html" class="active sidebar-link">IRB 互动环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#irb-互动环境" class="sidebar-link">IRB 互动环境</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#字符类型" class="sidebar-link">字符类型</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#流程控制" class="sidebar-link">流程控制</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#对象导向" class="sidebar-link">对象导向</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#方法的封装" class="sidebar-link">方法的封装</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#class-继承" class="sidebar-link">Class 继承</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#module" class="sidebar-link">Module</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#iterator-迭代器" class="sidebar-link">Iterator 迭代器</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#yield" class="sidebar-link">Yield</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#例外处理" class="sidebar-link">例外处理</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#introspection-反射机制" class="sidebar-link">Introspection 反射机制</a></li><li class="sidebar-sub-header"><a href="/rails/zhi-shi-chu-bei/ruby-yu-yan-ji-chuhtml.html#常见惯例" class="sidebar-link">常见惯例</a></li></ul></li><li><a href="/rails/zhi-shi-chu-bei/xue-xi-li-cheng.html" class="sidebar-link">学习历程</a></li><li><a href="/rails/zhi-shi-chu-bei/zhi-shi-chu-bei.html" class="sidebar-link">学习资料</a></li><li><a href="/rails/zhi-shi-chu-bei/zi-liao-qing-dan.html" class="sidebar-link">学习资料</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>环境构建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DD测试驱动</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Oute路由</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ata Base数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VC交互</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ails语法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="irb-互动环境"><a href="#irb-互动环境" aria-hidden="true" class="header-anchor">#</a> IRB 互动环境</h2> <div class="language- extra-class"><pre class="language-text"><code>$ irb
</code></pre></div><p>Ruby是個動態強分型的直譯式程式語言</p> <h2 id="字符类型"><a href="#字符类型" aria-hidden="true" class="header-anchor">#</a> 字符类型</h2> <ul><li><p>整数 Integer ,任何整数都是 <code>Fixnum</code> 对象。运算结果为整数</p></li> <li><p>浮点数 <code>Float</code> 对象</p></li> <li><p><code>String</code>对象 单双引号括起来，字串不能直接跟數字相加，會發生例外錯誤</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>

var1 = 'stop'
var2 = 'foobar'
var3 = &quot;aAbBcC&quot;

puts var1.reverse # pots
puts var2.length # 6
puts var3.upcase # AABBCC
puts var3.downcase # aabbcc

# 内插模式
verb = 'work'
where = 'office'

# 双引号字符串
puts &quot;I #{verb} at the #{where}&quot; # 輸出 I work at the office
</code></pre></div><ul><li>类型转换</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 相加前需要手动转换

to_s(轉成字串)

to_i(轉成整數)

to_f(轉成浮點數)

</code></pre></div><ul><li>区域变量</li></ul> <p>區域變數使用小寫開頭，偏好單字之間以底線_來分隔。範例如下：</p> <div class="language- extra-class"><pre class="language-text"><code>

composer = 'Mozart'
puts composer + ' was &quot;da bomb&quot;, in his day.'

my_composer = 'Beethoven'
puts 'But I prefer ' + my_composer + ', personally.'
</code></pre></div><ul><li>Constant 常数</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 大寫開頭的是為常數

Foo = 1
Foo = 2 # (irb):3: warning: already initialized constant Foo

RUBY_PLATFORM # =&gt; &quot;x86_64-darwin10.7.0&quot;
ENV # =&gt; { &quot;PATH&quot; =&gt; &quot;....&quot;, &quot;LC_ALL&quot; =&gt; &quot;zh_TW.UTF-8&quot; }
</code></pre></div><ul><li>空值 nil</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 表示未設定值、未定義的狀態：


nil # nil
nil.class # NilClass

nil.nil? # true
42.nil? # false

nil == nil # true
false == nil # false
</code></pre></div><ul><li><p>Ruby偏好一律使用單行註解：</p></li> <li><p>Symbols 字串符號</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 是唯一且不會變動的識別名稱，用冒號開頭.

# 相同名稱的Symbol不會再重複建構物件，所以使用Symbol可以執行的更有效率。


:this_is_a_symbol
相同名稱的Symbol不會再重複建構物件，所以使用Symbol可以執行的更有效率。


puts &quot;foobar&quot;.object_id      # 輸出 2151854740
puts &quot;foobar&quot;.object_id      # 輸出 2151830100
</code></pre></div><ul><li>Array 数组</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 可放任意类型
a = [ 1, &quot;cat&quot;, 3.14 ]

puts a[0] # 輸出 1
puts a.size # 輸出 3
# inspect方法會將物件轉成適合給人看的字串
puts a.inspect # 輸出 [1, &quot;cat&quot;, nil]

colors = [&quot;red&quot;, &quot;blue&quot;]

colors.push(&quot;black&quot;)
colors &lt;&lt; &quot;white&quot;
puts colors.join(&quot;, &quot;) # red, blue, black, white

colors.pop
puts colors.last #black
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>
languages = ['Ruby', 'Javascript', 'Perl']

languages.each do |lang|
  puts 'I love ' + lang + '!'
end

# I Love Ruby!
# I Love Javascript!
# I Love Perl!
</code></pre></div><ul><li>Hash</li></ul> <p>Hash是一種鍵值對(Key-Value)的資料結構，雖然你可以使用任何物件當作Key，但是通常我們使用Symbol當作Key。</p> <div class="language- extra-class"><pre class="language-text"><code>

config = { foo: 123, bar: 456 } # 等同於 { :foo =&gt; 123, :bar =&gt; 456 }

# each
config = { :foo =&gt; 123, :bar =&gt; 456 }
config.each do |key, value|
  puts &quot;#{key} is #{value}&quot;
end
</code></pre></div><h2 id="流程控制"><a href="#流程控制" aria-hidden="true" class="header-anchor">#</a> 流程控制</h2> <ul><li>比较</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

puts 1 &gt; 2 # 大於
puts 1 &lt; 2 # 小於
puts 5 &gt;= 5 # 大於等於
puts 5 &lt;= 4 # 小於等於
puts 1 == 1 # 等於
puts 2 != 1 # 不等於

puts ( 2 &gt; 1 ) &amp;&amp; ( 2 &gt; 3 ) # 和
puts ( 2 &gt; 1 ) || ( 2 &gt; 3 ) # 或
</code></pre></div><ul><li>if</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

total = 26000

if total &gt; 100000
  puts &quot;large account&quot;
elsif total &gt; 25000
  puts &quot;medium account&quot;
else
  puts &quot;small account&quot;
end

# 只有一行
puts &quot;greater than ten&quot; if total &gt; 10
</code></pre></div><ul><li>三元运算符</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

x = 3
y = ( x &gt; 3 ) ? &quot;foo&quot; : &quot;bar&quot;
</code></pre></div><ul><li>Case</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

case name
  when &quot;John&quot;
    puts &quot;Howdy John!&quot;
  when &quot;Ryan&quot;
    puts &quot;Whatz up Ryan!&quot;
  else
    puts &quot;Hi #{name}!&quot;
end
</code></pre></div><ul><li><p>while, loop, until, next and break</p></li> <li><p>正则</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 抓出手機號碼
phone = &quot;123-456-7890&quot;
if phone =~ /(\d{3})-(\d{3})-(\d{4})/
  ext  = $1
  city = $2
  num  = $3
end
</code></pre></div><ul><li>函数</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# 方法中的return是可以省略的，Ruby就會回傳最後一行運算的值
def say_hello(name)
  &quot;Hi, &quot; + name
end

puts say_hello('ihower')
# 輸出 Hi, ihower

# 呼叫方法時，括號也是可以省略的
say_hello 'ihower'
</code></pre></div><ul><li>?與!的慣例</li></ul> <p>方法名稱可以用?或!結尾，前者表示會回傳Boolean值</p> <h2 id="对象导向"><a href="#对象导向" aria-hidden="true" class="header-anchor">#</a> 对象导向</h2> <p>Ruby的類別其實也是一種常數，所以也是大寫開頭，使用new方法可以建立出物件</p> <ul><li>自定义类</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

class Person # 大寫開頭的常數

  def initialize(name) # 建構式
    @name = name # 物件變數
  end

  def say(word)
    puts &quot;#{word}, #{@name}&quot; # 字串相加
  end

end

p1 = Person.new(&quot;ihower&quot;)
p2 = Person.new(&quot;ihover&quot;)

p1.say(&quot;Hello&quot;) # 輸出 Hello, ihower
p2.say(&quot;Hello&quot;) # 輸出 Hello, ihover
</code></pre></div><ul><li>定义类的方法和变量</li></ul> <div class="language- extra-class"><pre class="language-text"><code>

class Person

  @@name = “ihower” # 類別變數

  def self.say # 類別方法
    puts @@name
  end

end

Person.say # 輸出 ihower
</code></pre></div><ul><li>资料变量</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
所有的物件變數(@開頭)、類別變數(@@開頭)，都是封裝在類別內部的，類別外無法存取：


class Person
  def initialize(name)
    @name = name
  end
end

p = Person.new('ihower')
p.name                      # 出現 NoMethodError 錯誤
p.name = 'peny'             # 出現 NoMethodError 錯誤
</code></pre></div><ul><li>可通过定义方法，读取内部变量</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
# attr_accessor、attr_writer、attr_reader類別方法可以直接定義這些方法。


class Person
  attr_accessor :name

  def initialize(name)
    @name = name
  end
end

p = Person.new('ihower')
</code></pre></div><p>跟其他程式語言不太一樣，Ruby的類別層級內也可以執行程式</p> <div class="language- extra-class"><pre class="language-text"><code>

class Demo
  puts &quot;foobar&quot;
end

# 當你載入這個類別的時候，就會執行puts &quot;foobar&quot;輸出foobar
</code></pre></div><h2 id="方法的封装"><a href="#方法的封装" aria-hidden="true" class="header-anchor">#</a> 方法的封装</h2> <p>類別中的方法預設是public的，宣告private或protected的話，該行以下的方法就會套用：</p> <p>class MyClass</p> <p>def public_method
end</p> <p>private</p> <p>def private_method_1
end</p> <p>def private_method_2
end</p> <p>protected</p> <p>def protected_method
end</p> <p>end
兩著差別在於private只有在物件內部才能呼叫，預設的接收者(receiver)就是物件本身，也就是self。而protected方法除了可以在本身內部呼叫以外，還可以被子類別的物件、或是另一個相同類別的物件呼叫。</p> <div class="language- extra-class"><pre class="language-text"><code>
object.call_method的意思是object收到執行call_method的指令，

你甚至可以改寫成object.__send__(:call_method)

</code></pre></div><h2 id="class-继承"><a href="#class-继承" aria-hidden="true" class="header-anchor">#</a> Class 继承</h2> <p>Ruby使用小於&lt;符號代表類別繼承：</p> <p>class Pet
attr_accessor :name, :age</p> <p>def say(word)
puts &quot;Say: #{word}&quot;
end
end</p> <p>class Cat &lt; Pet
def say(word)
puts &quot;Meow~&quot;
super
end
end</p> <p>class Dog &lt; Pet
def say(word, person)
puts &quot;Bark at #{person}!&quot;
super(word)
end
end</p> <p>Cat.new.say(&quot;Hi&quot;)
Dog.new.say(&quot;Hi&quot;, &quot;ihower&quot;)
輸出</p> <p>Meow~
Say: Hi
Bark at ihower!
Say: Hi
這個範例中，Cat和Dog子類別覆寫了Pet say方法，其中的super是用來呼叫被覆寫掉的Pet say方法。另外，沒有括號的super和有括號的super()是有差異的，前者Ruby會自動將所有參數都代進去來呼叫父類別的方法，後者則是自己指定參數。此例中如果Dog say裡只寫super，則會發生wrong number of arguments的錯誤，這是因為Ruby會傳say(&quot;Hi&quot;, &quot;ihower&quot;)給Pet say而發生錯誤。</p> <h2 id="module"><a href="#module" aria-hidden="true" class="header-anchor">#</a> Module</h2> <p>它跟Class類別非常相似，你可以在裡面定義方法。只是你不能用new來建立它。</p> <div class="language- extra-class"><pre class="language-text"><code>

module MyUtil

  def self.foobar
    puts &quot;foobar&quot;
  end

end

MyUtil.foobar
# 輸出 foobar
</code></pre></div><p>首先是debug.rb</p> <div class="language- extra-class"><pre class="language-text"><code>
module Debug
  def who_am_i?
    puts &quot;#{self.class.name}: #{self.inspect}&quot;
  end
end
</code></pre></div><p>然後是foobar.rb</p> <div class="language- extra-class"><pre class="language-text"><code>
require &quot;./debug&quot;
class Foo
  include Debug # 這個動作叫做 Mixin
end

class Bar
  include Debug
end

f = Foo.new
b = Bar.new
f.who_am_i? # 輸出 Foo: #&lt;Foo:0x00000102829170&gt;
b.who_am_i? # 輸出 Bar: #&lt;Bar:0x00000102825b88&gt;
</code></pre></div><p>Ruby使用Module來解決多重繼承的問題，</p> <h2 id="iterator-迭代器"><a href="#iterator-迭代器" aria-hidden="true" class="header-anchor">#</a> Iterator 迭代器</h2> <p>例如each是一個陣列的方法，它會走訪其中的元素，其中的do ... end是each方法的參數，稱作Code Block，是一個匿名函式(anonymous function)</p> <div class="language- extra-class"><pre class="language-text"><code>
languages = ['Ruby', 'Javascript', 'Perl']
languages.each do |lang|
  puts &quot;I love #{lang}!&quot;
end
# I Love Ruby!
# I Love Javascript!
# I Love Perl!
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 反覆三次
3.times do
  puts 'Good Job!'
end
# Good Job!
# Good Job!
# Good Job!

# 從一數到九
1.upto(9) do |x|
  puts x
end

# 多一個索引區塊變數
languages = ['Ruby', 'Javascript', 'Perl']
languages.each_with_index do |lang, i|
    puts &quot;#{i}, I love #{lang}!&quot;
end
# 0, I Love Ruby!
# 1, I Love Javascript!
# 2, I Love Perl!
</code></pre></div><p>(Code block)的形式除了do ... end，也可以改用大括號。通常單行會會用大括號，多行會用do ... end的形式。</p> <div class="language- extra-class"><pre class="language-text"><code>3.times { puts &quot;Hello&quot; }
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 迭代並造出另一個陣列
a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
b = a.map {|x| x + &quot;!&quot; }
puts b.inspect

# 結果是 [&quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot;]

# 找出符合條件的值
b = [1, 2, 3].find_all{ |x| x % 2 == 0 }
b.inspect
# 結果是 [2]

# 迭代並根據條件刪除
a = [51, 101, 256]
a.delete_if {|x| x &gt;= 100 }
# 結果是 [51]

# 客製化排序
[2, 1, 3].sort! { |a, b| b &lt;=&gt; a }
# 結果是 [3, 2, 1]

# 計算總和
(5..10).inject {|sum, n| sum + n }
# 結果是 45

# 找出最長字串find the longest word
longest = [&quot;cat&quot;, &quot;sheep&quot;, &quot;bear&quot;].inject do |memo, word|
  ( memo.length &gt; word.length ) ? memo : word
end
# 結果是 &quot;sheep&quot;
</code></pre></div><h2 id="yield"><a href="#yield" aria-hidden="true" class="header-anchor">#</a> Yield</h2> <p>在方法中使用yield可以執行Code block參數：</p> <div class="language- extra-class"><pre class="language-text"><code># 定義方法
def call_block
  puts &quot;Start&quot;
  yield
  yield
  puts &quot;End&quot;
end

call_block { puts &quot;Blocks are cool!&quot; }
# 輸出
# &quot;Start&quot;
# &quot;Blocks are cool!&quot;
# &quot;Blocks are cool!&quot;
# &quot;End&quot;
</code></pre></div><h2 id="例外处理"><a href="#例外处理" aria-hidden="true" class="header-anchor">#</a> 例外处理</h2> <div class="language- extra-class"><pre class="language-text"><code>begin
  puts 10 / 0 # 這會丟出 ZeroDivisionError 的例外錯誤
rescue =&gt; e
  puts e.class # 如果發生例外會執行 rescue 這一段
ensure
  # 無論有沒有發生例外，ensure 這一段都一定會執行
end
# 輸出 ZeroDivisionError
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>raise &quot;Not works!!&quot;
# 丟出一個 RuntimeError

# 自行自定例外物件
class MyException &lt; RuntimeError
end

raise MyException
</code></pre></div><h2 id="introspection-反射机制"><a href="#introspection-反射机制" aria-hidden="true" class="header-anchor">#</a> Introspection 反射机制</h2> <div class="language- extra-class"><pre class="language-text"><code># 這個物件有什麼方法
Object.methods
=&gt; [&quot;send&quot;, &quot;name&quot;, &quot;class_eval&quot;, &quot;object_id&quot;, &quot;new&quot;, &quot;singleton_methods&quot;, ...]

# 這個物件有這個方法嗎？
Object.respond_to? :name
=&gt; true
</code></pre></div><h2 id="常见惯例"><a href="#常见惯例" aria-hidden="true" class="header-anchor">#</a> 常见惯例</h2> <div class="language- extra-class"><pre class="language-text"><code>result ||= a
</code></pre></div><p>如果result是nil或false的話，將a指派給result，如果不是的話，什麼都不做。以上這段程式等同於</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/12/2019, 2:40:21 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b7f7816d.js" defer></script><script src="/assets/js/2.8d5777ed.js" defer></script><script src="/assets/js/147.b4e493ab.js" defer></script>
  </body>
</html>
